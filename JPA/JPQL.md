# Today I Learned

|date|ver|
|----|----|
|2022-12-14| v1.0|
---
## 오늘 배운 것
### JPQL(Java Persistence Query Language)
* 엔티티 객체 대상 쿼리
* SQL 추상화해서 특정 데이터베이스 SQL에 의존 X
* 엔티티, 속성 대소문자 구분
* JPQL 키워드는 대소문자 구분 X
* 쿼리에 테이블 대신 엔티티 들어감 + 엔티티 별칭 필수

### 페이징 API
* 페이징 API 추상화해서 벤더에 맞춰서 알아서 페이징 쿼리 만들어줌
* 간단하게 조회 시작 위치, 조회할 데이터 수만 정해주면 바로 사용 가능


### Join
* 엔티티 중심으로 조인하는 특징
* 내부 조인 -> 조인하는 양쪽 값 다 있을 때만 뽑아줌
* 외부 조인 -> 조인할 때 값 없어도 나옴

### 서브 쿼리
* from절에서 서브쿼리 사용 못함
* 메인절과 서브쿼리 엔티티 각각 사용해야 성능 더 좋음

### 경로 표현식
* 상태 필드
    * 단순히 값 저장
    * m.username
    * 경로 탐색 끝, 탐색 X
* 연관 필드
    * 단일 값 연관 필드
        * @ManyToOne, @OneToOne -> 대상이 단일 엔티티
        * m.team
        * 묵시적 내부 조인 발생
        * 탐색 O
    * 컬렉션 값 연관 필드
        * @OneToMany, @ManyToMany -> 대상이 컬렉션
        * m.orders
        * 묵시적 내부 조인 발생
        * 탐색 X
        * from 절에서 명시적 조인 통해 별칭 얻으면 별칭으로 탐색 가능
            * 컬렉션을 받으면 어떤걸 기준으로 컬렉션 내 컬럼 가져오려는지 모름 
    * 묵시적 조인을 사용하지 마라
        * JPQL만 보고 어떤 SQL로 번역될지 한눈에 보이도록 짜는게 좋음