# Today I Learned

|date|ver|
|----|----|
|2022-11-30| v1.0|
---
## 오늘 배운 것
### bean scope
* 빈이 존재할 수 있는 범위
* spring bean이 스프링 컨테이너의 시작과 함께 생성되어서 종료될 때까지 유지되는 이유는
    * singleton scope 이기 때문에

### spring에서 제공하는 scope
* singleton
    * 기본 scope, 스프링 컨테이너의 시작과 종료까지 유지되는 가장 넓은 범위
* prototype
    * 스프링 컨테이너는 프로토타입 빈의 생성과 의존관계 주입까지만 관여하고 더이상 관리하지 않는 매우 짧은 범위의 scope
    * 종료 메서드 호출이 안됨 (@PreDestroy)
    * 요청되는 시점에 프로토타입 빈을 생성하고, 필요한 의존관계 주입, 초기화하고 스프링 컨테이너에서 버려버림(관리 안함)
    * 스프링 컨테이너에 조회하면 전에 만들었어도 이미 버렸으니까 항상 새로운 인스턴스를 클라이언트에 반환함
    * 프로토타입 빈 관리할 책임은 클라이언트에 있음

* 웹 관련 scope (spring web 기능 사용해야 쓸 수 있음)
    * request : 웹 요청 들어오고 나갈 때까지 유지
        * 하나의 요청에 대한 bean 생성되면 요청 끝날때까지 같은 bean 사용 가능
        * 다른 요청이면 bean 새로 생성
        * Provider, Proxymode 사용해서 지연 처리 가능
    * session : 웹 세션 생성되고 종료될 때까지 유지
    * application : 웹의 서블릿 컨텍스트와 같은 범위로 유지 